"use strict";(self.webpackChunkgoscrum=self.webpackChunkgoscrum||[]).push([[784],{5784:function(e,s,r){r.r(s),r.d(s,{default:function(){return d}});r(2791);var a=r(5705),n=r(3504),i=r(6871),t=r(8472),o=r(1830),u=r.n(o),l=(r(5205),r(184));function d(){var e=(0,i.s0)(),s="* Campo obligatorio",r=t.Ry().shape({userName:t.Z_().min(4,"La cantidad m\xednima de caracteres es 4").required(s),password:t.Z_().required(s)}),o=(0,a.TA)({initialValues:{userName:"",password:""},validationSchema:r,onSubmit:function(){var s=v.userName,r=v.password;fetch("https:".concat("http://goscrum-api.alkemy.org/","auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:s,password:r})}).then((function(e){return e.json()})).then((function(s){var r,a;200===s.status_code?(localStorage.setItem("token",null===s||void 0===s||null===(r=s.result)||void 0===r?void 0:r.token),localStorage.setItem("userName",null===s||void 0===s||null===(a=s.result)||void 0===a?void 0:a.user.userName),e("/",{replace:!0})):u().fire({title:"Credenciales inv\xe1lidas",text:"Por favor introduzca credenciales v\xe1lidas",confirmButtonText:"Aceptar",width:"400px",timer:1e4,timerProgressBar:!0})}))}}),d=o.handleChange,c=o.handleSubmit,m=o.errors,h=o.touched,p=o.handleBlur,v=o.values;return(0,l.jsx)("div",{className:"auth",children:(0,l.jsxs)("form",{onSubmit:c,children:[(0,l.jsx)("h1",{children:"Iniciar sesi\xf3n"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{children:"Nombre de usuario"}),(0,l.jsx)("input",{type:"text",name:"userName",onChange:d,onBlur:p,value:v.userName,className:m.userName&&h.userName?"error":""}),m.userName&&h.userName&&(0,l.jsxs)("span",{className:"error-message",children:[m.userName," "]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{children:"Contrase\xf1a"}),(0,l.jsx)("input",{type:"password",name:"password",onChange:d,onBlur:p,value:v.password,className:m.password&&h.password?"error":""}),m.password&&h.password&&(0,l.jsxs)("span",{className:"error-message",children:[m.password," "]})]}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{type:"submit",children:"Iniciar sesi\xf3n"})}),(0,l.jsx)("div",{children:(0,l.jsx)(n.rU,{to:"/register",children:"Registrarme"})})]})})}},5205:function(){}}]);
//# sourceMappingURL=784.5e67365f.chunk.js.map